<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Regional Risk Maps - Hazard and Risk</title>
    <link rel="stylesheet" href="../css/header.css">
    <link rel="stylesheet" href="../css/footer.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            line-height: 1.6;
            color: #1f2937;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Natural Palette Colors */
        :root {
            --dark-slate: #1f2937;
            --bright-blue: #0097fb;
            --light-blue: #f2faff;
            --cream-white: #f1f1e6;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-top: 4rem; /* Desktop header height */
        }

        /* Hero Section */
        .hero {
            background: var(--dark-slate);
            padding: 4rem 0 6rem;
            position: relative;
            overflow: hidden;
            color: white;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="%23ffffff" stroke-width="0.5" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.1;
        }

        .hero-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
            position: relative;
            z-index: 1;
        }

        .hero-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .hero-text {
            max-width: 600px;
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 2rem;
            font-size: 0.875rem;
            font-weight: 500;
            margin-bottom: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .hero-title {
            font-size: 3.5rem;
            font-weight: 800;
            color: white;
            margin-bottom: 1.5rem;
            line-height: 1.1;
        }

        .hero-subtitle {
            font-size: 1.25rem;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .hero-cta {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .btn-hero-primary {
            background: var(--bright-blue);
            color: white;
            padding: 1rem 2rem;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 0.75rem;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(0, 151, 251, 0.3);
            border: none;
            cursor: pointer;
        }

        .btn-hero-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(0, 151, 251, 0.4);
        }

        .btn-hero-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            padding: 1rem 2rem;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 0.75rem;
            text-decoration: none;
            border: 2px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .btn-hero-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: white;
        }

        .hero-visual {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .hero-image {
            width: 100%;
            max-width: 500px;
            height: 400px;
            background: linear-gradient(135deg, var(--bright-blue), #2563eb);
            border-radius: 2rem;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 151, 251, 0.3);
            animation: float 6s ease-in-out infinite;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .regional-viz {
            width: 90%;
            max-width: 300px;
            position: relative;
            height: 0;
            padding-bottom: 80%;
        }

        .map-background, .building-dots, .region-polygon, .scanner {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .map-background {
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 80"><path d="M10 10 L30 5 L50 15 L70 10 L90 20 V70 L70 75 L50 65 L30 70 L10 60 Z" fill="%23fff" fill-opacity="0.1" /><path d="M10 35 L90 45" fill="none" stroke="%23fff" stroke-width="0.5" opacity="0.3"/><path d="M50 15 V65" fill="none" stroke="%23fff" stroke-width="0.5" opacity="0.3"/></svg>');
            background-size: cover;
            border-radius: 1rem;
            opacity: 0;
            animation: fadeIn 1s ease-out 0.5s forwards;
        }
        
        .region-polygon path {
            stroke: white;
            stroke-width: 3;
            fill: rgba(255, 255, 255, 0.1);
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
            animation: drawPolygon 2s ease-out 1s forwards;
        }
        
        .dot {
            position: absolute;
            width: 5px;
            height: 5px;
            background: white;
            border-radius: 50%;
            opacity: 0;
            transform: scale(0);
            animation: populateDot 0.5s ease-out forwards, colorCodeDot 1.5s ease-in-out 3.5s forwards;
        }
        
        .scanner {
            left: -5%;
            width: 5px;
            background: linear-gradient(to bottom, transparent, rgba(255,255,255,0.7), transparent);
            box-shadow: 0 0 10px white;
            opacity: 0;
            animation: scanRegion 1.5s ease-in-out 3s forwards;
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 0.5; } }
        @keyframes drawPolygon { to { stroke-dashoffset: 0; } }
        
        @keyframes scanRegion {
            from { left: -5%; opacity: 1; }
            to { left: 105%; opacity: 0; }
        }

        @keyframes populateDot { to { opacity: 1; transform: scale(1); } }
        
        @keyframes colorCodeDot {
            to {
                background: var(--risk-color, #22c55e);
            }
        }
        
        .hero-image::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
            animation: shimmer 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        @keyframes shimmer {
            0%, 100% { transform: translateX(-100%); }
            50% { transform: translateX(100%); }
        }

        /* Details Section */
        .details {
            padding: 6rem 0;
            background: white;
        }

        .details-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        .details-content {
            background: white;
            padding: 3rem;
            border-radius: 2rem;
        }

        .details-title {
            font-size: 2rem;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 2rem;
            text-align: center;
        }

        .details-text {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #1f2937;
            text-align: justify;
        }

        /* Features Section */
        .features {
            padding: 6rem 0;
            background: var(--dark-slate);
        }

        .features-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        .features-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .features-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: white;
            margin-bottom: 1rem;
        }

        .features-subtitle {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.7);
            max-width: 600px;
            margin: 0 auto;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .feature-card {
            background: white;
            padding: 2rem;
            border-radius: 1.5rem;
            transition: all 0.3s ease;
            border: 1px solid rgba(0, 151, 251, 0.1);
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 151, 251, 0.15);
        }

        .feature-icon {
            width: 60px;
            height: 60px;
            background: var(--bright-blue);
            border-radius: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .feature-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 1rem;
        }

        .feature-description {
            color: #6b7280;
            line-height: 1.6;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .main-content {
                margin-top: 3.5rem; /* Mobile header height */
            }

            .hero {
                padding: 3rem 0 4rem;
            }

            .hero-content {
                grid-template-columns: 1fr;
                gap: 3rem;
                text-align: center;
            }
            .hero-cta {
                justify-content: center;
            }

            .hero-title {
                font-size: 2.5rem;
            }

            .features {
                padding: 4rem 0;
            }

            .features-title {
                font-size: 2rem;
            }

            .details {
                padding: 4rem 0;
            }

            .details-content {
                padding: 2rem;
            }

            .details-title {
                font-size: 1.5rem;
            }

            .details-text {
                font-size: 1rem;
            }
        }

        @media (max-width: 480px) {
            .hero-title {
                font-size: 2rem;
            }

            .hero-cta {
                flex-direction: column;
                align-items: center;
            }

            .btn-hero-primary,
            .btn-hero-secondary {
                width: 100%;
                max-width: 300px;
                text-align: center;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div id="header-placeholder"></div>

    <main class="main-content">
        <section class="hero">
            <div class="hero-container">
                <div class="hero-content">
                    <div class="hero-text">
                        <div class="hero-badge">
                            üìç District-Scale Analysis
                        </div>
                        <h1 class="hero-title">Regional Risk Maps</h1>
                        <p class="hero-subtitle">
                            Comprehensive seismic risk assessments at the district scale for municipalities and government agencies, providing building-by-building analysis across defined geographic areas.
                        </p>
                        <div class="hero-cta">
                            <a href="#" class="btn-hero-primary">Analyze Region</a>
                            <a href="#" class="btn-hero-secondary">View Demo</a>
                        </div>
                    </div>
                    <div class="hero-visual">
                        <div class="hero-image">
                            <div class="regional-viz" id="regional-viz-container">
                                <div class="map-background"></div>
                                <div class="building-dots" id="building-dots-container"></div>
                                <svg class="region-polygon" viewBox="0 0 300 240" preserveAspectRatio="xMidYMid meet">
                                    <path d="M 60 36 L 240 48 L 264 180 L 96 216 L 36 120 Z" />
                                </svg>
                                <div class="scanner"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="details">
            <div class="details-container">
                <div class="details-content">
                    <h2 class="details-title">Advanced Regional Risk Assessment Technology</h2>
                    <div class="details-text">
                        The Regional Risk Maps product leverages our advanced hybrid AI algorithms to provide municipalities, government agencies, and other public stakeholders with comprehensive seismic risk assessments at the district scale. By defining a geographic area through a polygon, decision-makers can request building-by-building risk evaluations, resulting in a complete spatial risk distribution across the chosen region.
                        <br><br>
                        Our platform applies FEMA P-154 methodology to detect critical building attributes such as construction material, structural system, year built, number of stories, irregularities, adjacency, and soil class. Each building within the polygon is analyzed using this framework, with collapse probability estimates and contents risk indicators generated automatically. The aggregation of these individual assessments forms a high-resolution regional risk profile that reflects both micro- and macro-scale vulnerabilities.
                        <br><br>
                        For municipalities and emergency authorities, these risk maps offer critical functionality. They support risk accumulation analysis, showing where vulnerabilities are concentrated within the urban fabric. They inform the development of mitigation roadmaps, guiding retrofit programs and resource allocation toward the most at-risk structures or districts. They also enable inventory-scale screening, allowing large building stocks to be rapidly classified and prioritized for intervention. In addition, the maps are a powerful tool for emergency planning, providing evidence-based input for disaster response strategies, evacuation planning, and resilience-building initiatives.
                        <br><br>
                        By combining geospatial modeling, engineering-based risk screening, and artificial intelligence, Regional Risk Maps transform seismic hazard data into actionable intelligence for urban safety and resilience. This ensures that local governments and public institutions can make proactive, cost-effective, and scientifically grounded decisions to protect both people and infrastructure in their jurisdictions.
                    </div>
                </div>
            </div>
        </section>

        <section class="features">
            <div class="features-container">
                <div class="features-header">
                    <h2 class="features-title">Key Capabilities</h2>
                    <p class="features-subtitle">
                        Comprehensive district-scale risk analysis for informed municipal decision-making
                    </p>
                </div>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">üèôÔ∏è</div>
                        <h3 class="feature-title">Building-by-Building Analysis</h3>
                        <p class="feature-description">
                            Comprehensive risk evaluation for every structure within defined polygon areas using FEMA P-154 methodology and AI detection.
                        </p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üìä</div>
                        <h3 class="feature-title">Risk Accumulation Analysis</h3>
                        <p class="feature-description">
                            Identifies vulnerability concentrations within urban fabric to support strategic planning and resource allocation.
                        </p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üõ†Ô∏è</div>
                        <h3 class="feature-title">Mitigation Roadmaps</h3>
                        <p class="feature-description">
                            Guides retrofit programs and infrastructure investments toward the most at-risk structures and districts.
                        </p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üè¢</div>
                        <h3 class="feature-title">Inventory-Scale Screening</h3>
                        <p class="feature-description">
                            Rapidly classifies and prioritizes large building stocks for intervention using automated assessment protocols.
                        </p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üö®</div>
                        <h3 class="feature-title">Emergency Planning</h3>
                        <p class="feature-description">
                            Provides evidence-based input for disaster response strategies, evacuation planning, and resilience initiatives.
                        </p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üéØ</div>
                        <h3 class="feature-title">Municipal Intelligence</h3>
                        <p class="feature-description">
                            Transforms seismic hazard data into actionable intelligence for urban safety and public infrastructure protection.
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <div id="footer-placeholder"></div>

    <script>
        // Load header
        fetch('../header.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('header-placeholder').innerHTML = data;
            });

        // Load footer
        fetch('../footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer-placeholder').innerHTML = data;
            });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Intersection Observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Animate elements on scroll
        document.querySelectorAll('.feature-card, .details-content').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(30px)';
            el.style.transition = 'all 0.6s ease';
            observer.observe(el);
        });

        // Regional Risk Map Animation - Optimized
        document.addEventListener('DOMContentLoaded', () => {
            const vizContainer = document.getElementById('regional-viz-container');
            const dotsContainer = document.getElementById('building-dots-container');
            
            if (!vizContainer || !dotsContainer) return;

            setTimeout(() => {
                // SVG viewBox koordinatlarƒ±
                const viewBoxWidth = 300;
                const viewBoxHeight = 240;

                // Ger√ßek container boyutlarƒ±
                const rect = vizContainer.getBoundingClientRect();
                const actualWidth = rect.width;
                const actualHeight = rect.height;
                
                // √ñl√ßekleme fakt√∂rleri
                const scaleX = actualWidth / viewBoxWidth;
                const scaleY = actualHeight / viewBoxHeight;

                // Be≈ügen noktalarƒ± (i√ße doƒüru k√º√ß√ºlt√ºlm√º≈ü - g√ºvenlik marjƒ± ile)
                const polygonPoints = [
                    {x: 75, y: 50},   // Sol √ºst (i√ße √ßekilmi≈ü)
                    {x: 225, y: 60},  // Saƒü √ºst (i√ße √ßekilmi≈ü)
                    {x: 245, y: 165}, // Saƒü alt (i√ße √ßekilmi≈ü)
                    {x: 110, y: 200}, // Sol alt (i√ße √ßekilmi≈ü)
                    {x: 55, y: 130}   // Sol orta (i√ße √ßekilmi≈ü)
                ];

                // Geli≈ütirilmi≈ü point-in-polygon algoritmasƒ±
                function isPointInPolygon(point, polygon) {
                    let x = point.x, y = point.y;
                    let inside = false;
                    
                    for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {
                        let xi = polygon[i].x, yi = polygon[i].y;
                        let xj = polygon[j].x, yj = polygon[j].y;
                        
                        if (((yi > y) !== (yj > y)) && 
                            (x < (xj - xi) * (y - yi) / (yj - yi) + xi)) {
                            inside = !inside;
                        }
                    }
                    return inside;
                }

                // G√ºvenlik marjƒ± ile sƒ±nƒ±rlarƒ± hesapla
                const margin = 20; // Daha b√ºy√ºk g√ºvenlik marjƒ±
                const minX = Math.min(...polygonPoints.map(p => p.x)) + margin;
                const maxX = Math.max(...polygonPoints.map(p => p.x)) - margin;
                const minY = Math.min(...polygonPoints.map(p => p.y)) + margin;
                const maxY = Math.max(...polygonPoints.map(p => p.y)) - margin;

                const numberOfDots = 80; // Nokta sayƒ±sƒ±nƒ± azalttƒ±k
                const riskColors = ['#ef4444', '#f97316', '#eab308', '#22c55e'];
                
                dotsContainer.innerHTML = '';

                let dotsCreated = 0;
                let attempts = 0;
                const maxAttempts = numberOfDots * 20;

                while (dotsCreated < numberOfDots && attempts < maxAttempts) {
                    attempts++;
                    
                    // G√ºvenlik marjƒ± ile nokta √ºret
                    const logicalX = minX + Math.random() * (maxX - minX);
                    const logicalY = minY + Math.random() * (maxY - minY);
                    const point = {x: logicalX, y: logicalY};
                    
                    // √áift kontrol: hem k√º√ß√ºlt√ºlm√º≈ü hem orijinal poligonda kontrol
                    if (isPointInPolygon(point, polygonPoints)) {
                        const dot = document.createElement('div');
                        const dotSize = 5; // Biraz k√º√ß√ºlt√ºld√º
                        dot.className = 'dot';
                        
                        // Koordinatlarƒ± ger√ßek pixel pozisyonuna √ßevir
                        const pixelX = (logicalX * scaleX) - (dotSize / 2);
                        const pixelY = (logicalY * scaleY) - (dotSize / 2);
                        
                        // Sƒ±nƒ±r kontrol√º (extra g√ºvenlik)
                        if (pixelX >= 0 && pixelX <= actualWidth - dotSize && 
                            pixelY >= 0 && pixelY <= actualHeight - dotSize) {
                            
                            dot.style.left = `${pixelX}px`;
                            dot.style.top = `${pixelY}px`;
                            
                            // Animasyon gecikmeleri
                            const populateDelay = 3 + (logicalX / viewBoxWidth) * 1.5;
                            dot.style.animationDelay = `${populateDelay}s, 5s`;
                            
                            // Risk rengi ata
                            const riskColor = riskColors[Math.floor(Math.random() * riskColors.length)];
                            dot.style.setProperty('--risk-color', riskColor);

                            dotsContainer.appendChild(dot);
                            dotsCreated++;
                        }
                    }
                }

                console.log(`${dotsCreated} nokta olu≈üturuldu, ${attempts} deneme yapƒ±ldƒ±.`);
            }, 100); 
        });
    </script>
    <script src="../js/header.js"></script>
</body>
</html>